<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>è¯çµ¡ç°¿ç³»çµ±</title>
  <style>
    body { font-family: "Microsoft JhengHei", sans-serif; margin: 40px; background: #f6f8fa; }
    .box { max-width: 500px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; }
    input, textarea, button { width: 100%; margin-top: 10px; padding: 10px; font-size: 16px; }
    #output { white-space: pre-wrap; background: #f0f0f0; padding: 15px; margin-top: 20px; border-radius: 8px; }
    .hidden { display: none; }
  </style>
</head>
<body>

  <div id="loginBox" class="box">
    <h2>ç™»å…¥ç³»çµ±</h2>
    <input type="text" id="username" placeholder="å¸³è™Ÿ">
    <input type="password" id="password" placeholder="å¯†ç¢¼">
    <button onclick="login()">ç™»å…¥</button>
  </div>

  <div id="teacherBox" class="box hidden">
    <h2>ğŸ‘©â€ğŸ« æ•™å¸«ç«¯</h2>
    <p>æ­¡è¿ï¼Œ<span id="teacherName"></span> è€å¸«</p>
    <textarea id="teacherNote" rows="5" placeholder="è«‹è¼¸å…¥è¯çµ¡ç°¿å…§å®¹..."></textarea>
    <button onclick="saveNote()">å„²å­˜è¯çµ¡ç°¿</button>
    <button onclick="logout()">ç™»å‡º</button>
  </div>

  <div id="studentBox" class="box hidden">
    <h2>ğŸ‘¨â€ğŸ“ å­¸ç”Ÿç«¯</h2>
    <p>æ­¡è¿ï¼Œ<span id="studentName"></span> åŒå­¸</p>
    <div id="noteDisplay">å°šç„¡è¯çµ¡ç°¿å…§å®¹</div>
    <button onclick="logout()">ç™»å‡º</button>
  </div>

  <script>
    // æ¨¡æ“¬å¸³è™Ÿè³‡æ–™ï¼ˆå¯æ”¹æˆä½ è‡ªå·±çš„ï¼‰
    const accounts = [
      { username: "teacher1", password: "1234", role: "teacher", name: "ç‹å°æ˜" },
      { username: "student1", password: "5678", role: "student", name: "æå°è¯" }
    ];

    let currentUser = null;
    let contactBookContent = "";  // æš«å­˜åœ¨å‰ç«¯

    function login(){
      const u = document.getElementById('username').value;
      const p = document.getElementById('password').value;

      const user = accounts.find(a => a.username === u && a.password === p);
      if(!user){
        alert("å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤ï¼");
        return;
      }

      currentUser = user;
      document.getElementById('loginBox').classList.add('hidden');

      if(user.role === "teacher"){
        document.getElementById('teacherBox').classList.remove('hidden');
        document.getElementById('teacherName').innerText = user.name;
      }else{
        document.getElementById('studentBox').classList.remove('hidden');
        document.getElementById('studentName').innerText = user.name;
        updateStudentView();
      }
    }

    function saveNote(){
      contactBookContent = document.getElementById('teacherNote').value;
      alert("âœ… è¯çµ¡ç°¿å·²å„²å­˜ï¼");
    }

    function updateStudentView(){
      const note = contactBookContent || "å°šç„¡è¯çµ¡ç°¿å…§å®¹";
      document.getElementById('noteDisplay').innerText = note;
    }

    function logout(){
      currentUser = null;
      document.getElementById('teacherBox').classList.add('hidden');
      document.getElementById('studentBox').classList.add('hidden');
      document.getElementById('loginBox').classList.remove('hidden');
    }
  </script>
</body>
</html>
